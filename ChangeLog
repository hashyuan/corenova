# do not edit -- automatically generated by arch changelog
# arch-tag: automatic-ChangeLog--saint@corenova.com--public-2006/corenova-framework--main--0.4
#

2006-07-03 22:41:39 GMT	Peter K. Lee <saint@corenova.com>	patch-8

    Summary:
      database connect failure memory leak fix
    Revision:
      corenova-framework--main--0.4--patch-8

    * src/modules/corenova/data/database.c (connectDatabasePool): 
    	when connection fails, free entry properly... or risk major memory leak!

    modified files:
     ChangeLog src/modules/corenova/data/database.c
     src/modules/corenova/data/db/mysql.c


2006-03-14 21:25:45 GMT	Peter K. Lee <saint@corenova.com>	patch-7

    Summary:
      suppress tcp retry, tidy up processor, add debug module
    Revision:
      corenova-framework--main--0.4--patch-7

    Introduced the debug module, but not sure if I want to keep this...
    Will probably rename to a more generic log module, or have the debug
    module forward its data to a log module...
    
    
    * src/programs/valgrind.sh.in (LIBPATH): changed to now actually execute
      valgrind... :)
    
    * processor.c (_processorLoop): modified to NEVER drop anything... not
      sure if it should be default behavior forever, but works for now...
    
    * NovaLoader.c (nova_unload): cleaned out some debug messages to print
      cleaner... only when a module is ACTUALLY freed and unloaded.
    
    * dummy.c (main): changed to test debug...
    
    * getopts.c (while): changed daemonization and logdir options...
    
    * tcp.c (_connect): changed so that signal interrupts does not cause a retry.
    
    * tcp.c (_accept): ditto

    new files:
     src/include/corenova/sys/.arch-ids/debug.h.id
     src/include/corenova/sys/debug.h
     src/modules/corenova/sys/.arch-ids/debug.c.id
     src/modules/corenova/sys/debug.c

    modified files:
     ChangeLog configure.in src/include/Makefile.am
     src/library/NovaLoader.c src/modules/corenova/data/processor.c
     src/modules/corenova/net/tcp.c
     src/modules/corenova/sys/Makefile.am
     src/modules/corenova/sys/getopts.c src/programs/dummy.c
     src/programs/valgrind.sh.in


2006-03-11 01:48:27 GMT	Peter K. Lee <saint@corenova.com>	patch-6

    Summary:
      some loader init/exit changes, spell fix
    Revision:
      corenova-framework--main--0.4--patch-6

    * src/library/NovaLoader.c: changed around constructor/destructor with
      nova_init/nova_exit...
    
    * source-stub.h (LT_SYMBOL): also changed around constructor/destructor,
      moved PREOPEN stuff into NovaLoader directly...
    
    * Makefile.am (getopts_la_CFLGAS): spelled that wrong, CFLAGS!
    
    * getopts.c (DEFAULT_OUTPUT): get opts defaults to DEVNULL output when
      daemonizing for stdout and stderr... should handle stdin/stdout with a
      separate debug output module if we want it sent to file!

    modified files:
     ChangeLog src/include/corenova/source-stub.h
     src/library/NovaLoader.c src/modules/corenova/sys/Makefile.am
     src/modules/corenova/sys/getopts.c src/programs/check-module.c


2006-03-10 23:48:09 GMT	Peter K. Lee <saint@corenova.com>	patch-5

    Summary:
      some build cleanup, no need for nova_load/unload for program build
    Revision:
      corenova-framework--main--0.4--patch-5

    * configure.in: changed CFLAGS stuff to be hard-coded.  libtool or
      autoconf auto discovers appropriate CFLAGS, which work find for some
      platform, but on others it insists on tacking on -g which I have yet to
      figure out how to suppress.
    
    * quark.c (_destroy): added mutex & condition destructors.
    
    * database.c (main): Got rid of nova_load, and added couple of destroy...
    
    * NovaLoader.c (self): added self reference, along with nova_init and
      nova_exit calls, so that for programs, nova_load call becomes moot
      since it will do that on module load & module unload
      constructor/destructors.
    
    	I need to look into this one a tad bit more since in certain cases,
    	it does not appear that all the modules are cleanly unloaded...
    
    * module.h (MODULE_IMPLEMENTS_MAX): reduced some of the MAX stuff
    
    * source-stub.h (__program_init__): added nova_init call
    
    * source-stub.h (__program_exit__): added nova_exit call
    
    * Makefile.am (loader_la_LIBADD): removed dependency on NovaLoader, since
      this only appears to try to load the library twice!
    
    * ssl.h (OPENSSL_NO_KRB5): only if HAVE_LIBKERBEROS
    
    * corenova.pc.in (exec_prefix): now part of AC_OUTPUT, didn't realize
      AC_OUTPUT macro automatically substitutes @xxx@ variables!

    new files:
     src/programs/.arch-ids/valgrind.sh.in.id
     src/programs/valgrind.sh.in

    modified files:
     ChangeLog Makefile.am configure.in corenova.pc.in
     src/contrib/Makefile.am src/include/corenova/module.h
     src/include/corenova/net/ssl.h
     src/include/corenova/source-stub.h src/library/NovaLoader.c
     src/modules/corenova/sys/Makefile.am
     src/modules/corenova/sys/quark.c src/programs/check-module.c
     src/programs/database.c src/programs/dummy.c
     src/programs/tcp-connect.c


2006-03-06 22:44:04 GMT	Peter K. Lee <saint@corenova.com>	patch-4

    Summary:
      processor module, with client-side protocol, and spool capability
    Revision:
      corenova-framework--main--0.4--patch-4

    New glob module for globbing for files.  Currently for use by the newly
    added spool module.
    
    Also, the processor (corenova/data/processor) module was introduced to
    act as basic input/output related processing.
    
    * file.h (file_t): a crucial change that fixes the ever elusive memory
      leak bug.  We *must* pass persistent pointer to the length of line that
      is holding the length of dynamically allocated line buffer from the
      getline() call.  Otherwise, getline will create a new buffer every
      single time!
    
    * category.c (getCategoryParameters): added getparameters call that
      returns the parameters_t, and next() call that allows you to iterate
      through list of categories.
    
    * XFORMXFER.c: introduced the client-side communication loop for this
      protocol.
    
    * session.h (struct): gave a number to starting enum since 0 is what they
      start with...
    
    * loader.c (dynamicLoad): wrapper to nova_load to *not* call it if
      argument is NULL.  nova_load() understands NULL to load self, which is
      not appropriate here.
    
    * session.c (_sendMessage): only allow send when underlying state is
      active.  
    
    * spool.c: migrated from older nova framework.
    
    * file.c (_getline): changed to pass in the persistent pointer to lineLen
      as described in file.h changes.
    
    * string.h (DEFINE_INTERFACE): minor changes to pass in const char * in
      place of regular char*
    
    * string.c: ditto as above.
    
    * spool.h (__spool_H__): the header file for the migrated module.

    new files:
     src/contrib/.arch-ids/Makefile.am.id src/contrib/Makefile.am
     src/include/corenova/data/.arch-ids/glob.h.id
     src/include/corenova/data/.arch-ids/processor.h.id
     src/include/corenova/data/glob.h
     src/include/corenova/data/processor.h
     src/modules/corenova/data/.arch-ids/glob.c.id
     src/modules/corenova/data/.arch-ids/processor.c.id
     src/modules/corenova/data/glob.c
     src/modules/corenova/data/processor.c

    modified files:
     ChangeLog src/include/Makefile.am
     src/include/corenova/data/category.h
     src/include/corenova/data/file.h
     src/include/corenova/data/spool.h
     src/include/corenova/data/string.h
     src/include/corenova/net/session.h
     src/modules/corenova/data/Makefile.am
     src/modules/corenova/data/category.c
     src/modules/corenova/data/file.c
     src/modules/corenova/data/inifile.c
     src/modules/corenova/data/spool.c
     src/modules/corenova/data/string.c
     src/modules/corenova/net/proto/XFORMXFER.c
     src/modules/corenova/net/session.c
     src/modules/corenova/net/tcp.c
     src/modules/corenova/sys/loader.c

    new patches:
     saint@corenova.com--public-2005/corenova-framework--main--0.3--patch-10


2006-02-27 21:03:10 GMT	Peter K. Lee <saint@corenova.com>	patch-3

    Summary:
      changelog... one more time
    Revision:
      corenova-framework--main--0.4--patch-3


    new files:
     .arch-ids/ChangeLog.id ChangeLog

    removed files:
     .arch-ids/ChangeLog.id ChangeLog


2006-02-27 21:01:38 GMT	Peter K. Lee <saint@corenova.com>	patch-2

    Summary:
      changelog fiasco, get it back in sync. :)
    Revision:
      corenova-framework--main--0.4--patch-2

    	C-x T M-l will create a new ChangeLog entry for a new tagged tree.

    modified files:
     ChangeLog ChangeLog--0.3

    renamed files:
     .arch-ids/ChangeLog.2005.id
       ==> .arch-ids/ChangeLog--0.3.id
     ChangeLog.2005
       ==> ChangeLog--0.3


2006-02-27 20:55:25 GMT	Peter K. Lee <saint@corenova.com>	patch-1

    Summary:
      migration to 2006 public arch tree
    Revision:
      corenova-framework--main--0.4--patch-1

    * configure.in: update version to 0.4

    new files:
     .arch-ids/ChangeLog.2005.id .arch-ids/ChangeLog.id ChangeLog
     ChangeLog.2005

    removed files:
     .arch-ids/ChangeLog.id ChangeLog

    modified files:
     configure.in


2006-02-27 20:46:57 GMT	Peter K. Lee <saint@corenova.com>	base-0

    Summary:
      tag of saint@corenova.com--public-2005/corenova-framework--main--0.3--patch-9
    Revision:
      corenova-framework--main--0.4--base-0

    (automatically generated log message)

    new patches:
     saint@corenova.com--public-2005/corenova-framework--main--0.2--base-0
     saint@corenova.com--public-2005/corenova-framework--main--0.2--patch-1
     saint@corenova.com--public-2005/corenova-framework--main--0.2--patch-2
     saint@corenova.com--public-2005/corenova-framework--main--0.3--base-0
     saint@corenova.com--public-2005/corenova-framework--main--0.3--patch-1
     saint@corenova.com--public-2005/corenova-framework--main--0.3--patch-2
     saint@corenova.com--public-2005/corenova-framework--main--0.3--patch-3
     saint@corenova.com--public-2005/corenova-framework--main--0.3--patch-4
     saint@corenova.com--public-2005/corenova-framework--main--0.3--patch-5
     saint@corenova.com--public-2005/corenova-framework--main--0.3--patch-6
     saint@corenova.com--public-2005/corenova-framework--main--0.3--patch-7
     saint@corenova.com--public-2005/corenova-framework--main--0.3--patch-8
     saint@corenova.com--public-2005/corenova-framework--main--0.3--patch-9


